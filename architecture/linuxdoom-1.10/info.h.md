# File Overview

`info.h` is the central data-definition header for every interactive object (map thing) in the DOOM engine. It declares:

1. `spritenum_t` - an enumeration of all 138 sprite names.
2. `statenum_t` - an enumeration of all ~968 animation frame states.
3. `state_t` - the per-frame animation record that drives the state machine.
4. `mobjtype_t` - an enumeration of all 87 map-object (thing) types.
5. `mobjinfo_t` - the property table for each thing type: health, speed, sounds, flags, etc.

Together `state_t` and `mobjinfo_t` implement DOOM's data-driven entity system. Every monster, weapon, projectile, pickup, and decoration is defined purely by these tables; the game engine contains no per-entity special-casing beyond what the action function pointers in each state record trigger.

The file was generated by the `multigen` utility mentioned in the comment header; the tables were maintained in a separate definition format and compiled into C.

---

## Data Structures

### `spritenum_t` (enum)
```c
typedef enum { SPR_TROO, SPR_SHTG, ... NUMSPRITES } spritenum_t;
```
Enumerates all 138 sprite base names used in the WAD file. Each value maps to a 4-character WAD lump prefix (stored in the parallel `sprnames[]` array in `info.c`). Sprites have multiple frames (A, B, C...) and up to 8 rotation angles per frame; the `frame` field of `state_t` selects the letter and optional mirror flag.

Selected entries and their in-game meaning:

| Enum | WAD name | Object |
|---|---|---|
| `SPR_TROO` | `TROO` | Imp |
| `SPR_POSS` | `POSS` | Zombieman (pistol zombie) |
| `SPR_SPOS` | `SPOS` | Shotgun Guy |
| `SPR_VILE` | `VILE` | Archvile |
| `SPR_SKEL` | `SKEL` | Revenant |
| `SPR_FATT` | `FATT` | Mancubus |
| `SPR_CPOS` | `CPOS` | Chaingunner |
| `SPR_SARG` | `SARG` | Demon (Pinky) |
| `SPR_HEAD` | `HEAD` | Cacodemon |
| `SPR_BOSS` | `BOSS` | Baron of Hell |
| `SPR_BOS2` | `BOS2` | Hell Knight |
| `SPR_SKUL` | `SKUL` | Lost Soul |
| `SPR_SPID` | `SPID` | Spider Mastermind |
| `SPR_BSPI` | `BSPI` | Arachnotron |
| `SPR_CYBR` | `CYBR` | Cyberdemon |
| `SPR_PAIN` | `PAIN` | Pain Elemental |
| `SPR_KEEN` | `KEEN` | Commander Keen (secret boss) |
| `SPR_BBRN` | `BBRN` | Icon of Sin (Boss Brain) |
| `SPR_PLAY` | `PLAY` | Player |
| `SPR_MISL` | `MISL` | Rocket |
| `SPR_BFS1` | `BFS1` | BFG shot projectile |
| `SPR_PUNG` | `PUNG` | Fist (player weapon) |
| `SPR_PISG` | `PISG` | Pistol |
| `SPR_SHTG` | `SHTG` | Shotgun |
| `SPR_SHT2` | `SHT2` | Super Shotgun |
| `SPR_CHGG` | `CHGG` | Chaingun |
| `SPR_PLSG` | `PLSG` | Plasma Rifle |
| `SPR_BFGG` | `BFGG` | BFG 9000 |

---

### `statenum_t` (enum)
```c
typedef enum { S_NULL, S_LIGHTDONE, S_PUNCH, ... NUMSTATES } statenum_t;
```
Enumerates approximately 968 animation states. Every state corresponds to one entry in the `states[]` array. `S_NULL` (value 0) is a sentinel meaning "no state / end of sequence". States follow naming conventions that make the state machine readable:

| Suffix pattern | Meaning |
|---|---|
| `_STND`, `_STND2` | Idle/standing, waiting for player |
| `_RUN1`..`_RUN8/12` | Walking/chasing cycle |
| `_ATK1`..`_ATKn` | Attack animation sequence |
| `_PAIN`, `_PAIN2` | Pain flinch |
| `_DIE1`..`_DIEn` | Death sequence (normal) |
| `_XDIE1`..`_XDIEn` | Gibbing/extra-death sequence |
| `_RAISE1`..`_RAISEn` | Archvile resurrection (death played in reverse) |
| `_MISS1`..`_MISSn` | Missile attack sub-sequence |
| `_FIST1`..`_FISTn` | Melee attack sub-sequence |

Weapon states use a different convention:

| Pattern | Meaning |
|---|---|
| `S_PISTOL` | Weapon ready, bobbing |
| `S_PISTOLDOWN` / `S_PISTOLUP` | Lower / raise transitions |
| `S_PISTOL1`..`S_PISTOL4` | Fire animation |
| `S_PISTOLFLASH` | Muzzle flash (overlaid on weapon layer) |

---

### `state_t` (struct)
```c
typedef struct {
    spritenum_t  sprite;     // which sprite set to display
    long         frame;      // frame letter index within sprite + flags
    long         tics;       // number of game tics to remain in this state (-1 = forever)
    actionf_t    action;     // function to call when entering this state (may be NULL)
    statenum_t   nextstate;  // state to transition to when tics expire
    long         misc1;      // extra parameter available to action functions
    long         misc2;      // extra parameter available to action functions
} state_t;
```

**Field details:**

- **`sprite`** (`spritenum_t`): Index into the `sprnames[]` table identifying which 4-character WAD lump prefix to look up.

- **`frame`** (`long`): The low 15 bits select the animation frame letter (0=A, 1=B, etc.). Bit 15 (`0x8000`, value `32768`) is the `FF_FULLBRIGHT` flag; when set the frame is drawn at full brightness regardless of sector light level. For example, frame value `32768` is "frame A, full bright"; `32769` is "frame B, full bright".

- **`tics`** (`long`): How many 35Hz game tics the object spends in this state. `-1` means the state persists indefinitely (used for final death/corpse states, static objects, etc.).

- **`action`** (`actionf_t`): A union of function pointer types (defined in `d_think.h`) called during the game tick when this state is first entered, or on each tick for some states. `NULL` means no action. Examples: `A_Chase` for monster navigation, `A_FirePistol` for the pistol fire, `A_Explode` for missile detonation.

- **`nextstate`** (`statenum_t`): The state to transition to when the `tics` counter reaches zero. `S_NULL` terminates the thing (removes it).

- **`misc1`, `misc2`** (`long`): General-purpose integer parameters passed to certain action functions. Not used by most states (set to 0).

---

### `mobjtype_t` (enum)
```c
typedef enum { MT_PLAYER, MT_POSSESSED, ... NUMMOBJTYPES } mobjtype_t;
```
Enumerates all 87 map-object types. These index into `mobjinfo[]`. Selected values:

| Enum | Meaning |
|---|---|
| `MT_PLAYER` | The player |
| `MT_POSSESSED` | Zombieman (doomednum 3004) |
| `MT_SHOTGUY` | Shotgun Guy (9) |
| `MT_VILE` | Archvile (64) |
| `MT_UNDEAD` | Revenant (66) |
| `MT_FATSO` | Mancubus (67) |
| `MT_CHAINGUY` | Chaingunner (65) |
| `MT_TROOP` | Imp (3001) |
| `MT_SERGEANT` | Demon/Pinky (3002) |
| `MT_SHADOWS` | Spectre (58) - invisible Demon |
| `MT_HEAD` | Cacodemon (3005) |
| `MT_BRUISER` | Baron of Hell (3003) |
| `MT_KNIGHT` | Hell Knight (69) |
| `MT_SKULL` | Lost Soul (3006) |
| `MT_SPIDER` | Spider Mastermind (7) |
| `MT_BABY` | Arachnotron (68) |
| `MT_CYBORG` | Cyberdemon (16) |
| `MT_PAIN` | Pain Elemental (71) |
| `MT_WOLFSS` | Wolf SS (84) - Doom 2 only |
| `MT_KEEN` | Commander Keen (72) - secret |
| `MT_BOSSBRAIN` | Icon of Sin brain (88) |
| `MT_BOSSSPIT` | Icon of Sin shooter eye (89) |
| `MT_BOSSTARGET` | Icon of Sin spawn target (87) |
| `MT_BARREL` | Exploding barrel (2035) |
| `MT_ROCKET` | Rocket projectile |
| `MT_PLASMA` | Plasma ball |
| `MT_BFG` | BFG shot |
| `MT_TROOPSHOT` | Imp fireball |
| `MT_HEADSHOT` | Cacodemon fireball |
| `MT_BRUISERSHOT` | Baron/Knight fireball |
| `MT_PUFF` | Bullet puff (hitscan impact) |
| `MT_BLOOD` | Blood splatter |
| `MT_TFOG` | Teleport fog (arrival) |
| `MT_IFOG` | Teleport fog (departure) |
| `MT_TELEPORTMAN` | Teleport destination marker (doomednum 14) |
| `MT_MISC0`..`MT_MISC86` | Decorations, pickups, weapons |
| `MT_MEGA` | Megasphere |
| `MT_CLIP`, `MT_MISC17`..`MT_MISC25` | Ammo pickups |
| `MT_SHOTGUN`, `MT_SUPERSHOTGUN` | Weapon pickups |
| `MT_INV` | Invulnerability sphere |
| `MT_INS` | Partial invisibility |

---

### `mobjinfo_t` (struct)
```c
typedef struct {
    int  doomednum;     // editor thing number (-1 = not placeable in editor)
    int  spawnstate;    // initial state index (statenum_t)
    int  spawnhealth;   // hit points at spawn
    int  seestate;      // state entered when player spotted
    int  seesound;      // sound played on sight
    int  reactiontime;  // tics before monster can attack (startup delay)
    int  attacksound;   // sound played when attacking
    int  painstate;     // state entered on pain flinch
    int  painchance;    // probability (0-255) of entering pain state when hit
    int  painsound;     // sound played during pain
    int  meleestate;    // state entered to perform close-range melee attack
    int  missilestate;  // state entered to perform ranged missile attack
    int  deathstate;    // state entered on death (normal)
    int  xdeathstate;   // state entered on violent/gibs death
    int  deathsound;    // sound played on death
    int  speed;         // movement speed (fixed_t units per tic, or map units/tic for missiles)
    int  radius;        // collision radius (fixed_t, e.g. 20*FRACUNIT)
    int  height;        // height for clipping (fixed_t)
    int  mass;          // mass for thrust/knockback calculations
    int  damage;        // damage dealt per missile hit (0 for monsters, set for projectiles)
    int  activesound;   // ambient roaming sound
    int  flags;         // bitfield of MF_* behaviour flags (see p_mobj.h)
    int  raisestate;    // first state of Archvile resurrection sequence (S_NULL if not raisable)
} mobjinfo_t;
```

**Selected `flags` bit values (defined in `p_mobj.h`):**

| Flag | Meaning |
|---|---|
| `MF_SOLID` | Blocks movement |
| `MF_SHOOTABLE` | Can be damaged by hitscan and projectiles |
| `MF_COUNTKILL` | Counts toward kill percentage |
| `MF_FLOAT` | Can move vertically (flying monster) |
| `MF_NOGRAVITY` | Not affected by gravity |
| `MF_MISSILE` | Is a projectile; explodes on impact |
| `MF_DROPOFF` | Can fall off ledges |
| `MF_NOBLOCKMAP` | Not inserted in blockmap (fast-moving or invisible things) |
| `MF_NOSECTOR` | Not inserted in sector thing list |
| `MF_SHADOW` | Spectre partial-invisibility rendering |
| `MF_NOCLIP` | Not clipped by walls |
| `MF_SPAWNCEILING` | Spawned hanging from ceiling |
| `MF_PICKUP` | Can pick up items |
| `MF_NOTDMATCH` | Not spawned in deathmatch |
| `MF_NOBLOOD` | Does not bleed (barrel) |

---

## Global Variables (extern declarations)

```c
extern state_t    states[NUMSTATES];
extern char      *sprnames[NUMSPRITES];
extern mobjinfo_t mobjinfo[NUMMOBJTYPES];
```

These are defined in `info.c` and exported. `sprnames` maps `spritenum_t` values to their 4-character WAD names. `states` is the master animation state table. `mobjinfo` is the master thing-property table.

---

## Dependencies

- `d_think.h` - Provides `actionf_t`, the union type for state action function pointers (`actionf_p1`, `actionf_v`, etc.).
