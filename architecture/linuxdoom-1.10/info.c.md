# File Overview

`info.c` is the single largest data file in the DOOM source. It contains the complete runtime definitions of every animation state, every sprite name, and every map-object (thing) property table for the entire game. The file was generated by id Software's internal `multigen` utility from a higher-level description, then preserved as-is in the public source release.

The three major data arrays defined here implement DOOM's data-driven entity system:

1. **`sprnames[]`** - maps sprite enum values to 4-character WAD lump prefixes.
2. **`states[]`** - the master animation state machine table (~968 entries).
3. **`mobjinfo[]`** - per-thing-type property records (87 entries).

No logic lives in this file; it is purely data. The game engine reads these tables to drive every aspect of entity behaviour: what sprite frame to display, how long to display it, what action function to call, what sound to play, how fast to move, how much health to start with, and so on.

---

## Global Variables

### `sprnames[NUMSPRITES]`
```c
char *sprnames[NUMSPRITES] = {
    "TROO","SHTG","PUNG","PISG","PISF","SHTF","SHT2","CHGG","CHGF","MISG",
    ...
    "TLMP","TLP2"
};
```
**Type:** `char *[138]`

An array of 4-character string pointers indexed by `spritenum_t`. The renderer looks up a sprite by using its `spritenum_t` as an index into this array to obtain the WAD lump name prefix, then appending frame letters and rotation suffixes to find the actual patches.

The 138 sprite names cover every visual asset used by entities:

| Range | Category |
|---|---|
| `TROO` | Imp |
| `SHTG`..`BFGF` | Player weapon sprites and muzzle flashes |
| `BLUD`, `PUFF` | Blood / bullet puff effects |
| `BAL1`, `BAL2`, `PLSS`, `MISL`, `BFS1` | Projectiles |
| `TFOG`, `IFOG` | Teleport fog |
| `PLAY` | Player |
| `POSS`, `SPOS`, `VILE`, `SKEL`, `FATT`, `CPOS`, `SARG`, `HEAD`, `BOSS`, `BOS2`, `SKUL`, `SPID`, `BSPI`, `CYBR`, `PAIN`, `SSWV` | Monsters |
| `KEEN`, `BBRN`, `BOSF` | Secret/final bosses and their projectiles |
| `ARM1`, `ARM2` | Armor pickups |
| `BAR1`, `BEXP`, `FCAN` | Barrel and fire |
| `BON1`, `BON2`, `BKEY`..`YSKU` | Bonuses and keys |
| `STIM`, `MEDI`, `SOUL`, `PINV`..`MEGA` | Health/power-ups |
| `SUIT`, `PMAP`, `PVIS` | Radiation suit, map, light-amp goggles |
| `CLIP`..`SGN2` | Ammo and weapon pickups |
| `COLU`..`TLP2` | Decorations, gore, lights, and columns |

---

### `states[NUMSTATES]`
```c
state_t states[NUMSTATES] = {
    {SPR_TROO, 0, -1, {NULL}, S_NULL, 0, 0},  // S_NULL
    ...
};
```
**Type:** `state_t[~968]`

The master animation state table. Each entry is a `state_t` struct with fields:
- `sprite` - which sprite set to use
- `frame` - which frame letter (and full-bright flag, bit 15 = `0x8000`)
- `tics` - how many game tics to stay in this state (`-1` = forever)
- `action` - pointer to the action function called on this state (or `NULL`)
- `nextstate` - which state to transition to when tics expire
- `misc1`, `misc2` - extra parameters for action functions

**Frame value encoding:** Values below 32768 are plain frame indices (0=A, 1=B, etc.). Values at or above 32768 have the `FF_FULLBRIGHT` flag set; subtract 32768 to get the actual frame index. For example, `32768 = 0x8000` is frame A full-bright; `32769` is frame B full-bright; `32776` is frame I full-bright (8 + 32768).

**State group summary by entity:**

| State prefix | Entity | Count |
|---|---|---|
| `S_LIGHTDONE` | Weapon muzzle-flash clear | 1 |
| `S_PUNCH*` | Fist weapon | 6 |
| `S_PISTOL*` | Pistol | 6 + flash |
| `S_SGUN*` | Shotgun | 10 + 2 flash |
| `S_DSGUN*` | Super Shotgun | 13 + 2 flash |
| `S_CHAIN*` | Chaingun | 5 + 2 flash |
| `S_MISSILE*` | Rocket Launcher | 5 + 4 flash |
| `S_SAW*` | Chainsaw | 6 |
| `S_PLASMA*` | Plasma Rifle | 5 + 2 flash |
| `S_BFG*` | BFG 9000 | 6 + 2 flash |
| `S_BLOOD*` | Blood puff | 3 |
| `S_PUFF*` | Bullet puff | 4 |
| `S_TBALL*` / `S_RBALL*` | Imp / Cacodemon fireballs | 5 each |
| `S_PLASBALL*` / `S_PLASEXP*` | Plasma bolt | 7 |
| `S_ROCKET`, `S_EXPLODE*` | Rocket and explosion | 4 |
| `S_BFGSHOT*` / `S_BFGLAND*` / `S_BFGEXP*` | BFG projectile and impact | 12 |
| `S_TFOG*` / `S_IFOG*` | Teleport fog | 12 + 7 |
| `S_PLAY*` | Player (idle, run, attack, pain, 2 death sequences) | 28 |
| `S_POSS*` | Zombieman (stand, run, attack, pain, die, xdie, raise) | ~30 |
| `S_SPOS*` | Shotgun Guy | ~34 |
| `S_VILE*` | Archvile (stand, run 12, attack 11, heal 3, pain, die 10) | ~42 |
| `S_FIRE*` | Archvile's summoned fire | 30 |
| `S_SMOKE*` | Revenant tracer smoke | 5 |
| `S_TRACER*` / `S_TRACEEXP*` | Revenant homing missile | 5 |
| `S_SKEL*` | Revenant | ~36 |
| `S_FATSHOT*` / `S_FATSHOTX*` | Mancubus fireball | 5 |
| `S_FATT*` | Mancubus | ~44 |
| `S_CPOS*` | Chaingunner | ~34 |
| `S_TROO*` | Imp | ~33 |
| `S_SARG*` | Demon | ~28 |
| `S_HEAD*` | Cacodemon | ~23 |
| `S_BRBALL*` | Baron/Knight fireball | 5 |
| `S_BOSS*` | Baron of Hell | ~30 |
| `S_BOS2*` | Hell Knight | ~30 |
| `S_SKULL*` | Lost Soul | ~16 |
| `S_SPID*` | Spider Mastermind | ~25 |
| `S_BSPI*` | Arachnotron | ~30 |
| `S_ARACH_PLAZ*` / `S_ARACH_PLEX*` | Arachnotron plasma | 7 |
| `S_CYBER*` | Cyberdemon | ~23 |
| `S_PAIN*` | Pain Elemental | ~22 |
| `S_SSWV*` | Wolf SS | ~34 |
| `S_KEEN*` / `S_COMMKEEN*` | Commander Keen | ~16 |
| `S_BRAIN*` / `S_BRAINEYE*` | Icon of Sin | ~10 |
| `S_SPAWN*` / `S_SPAWNFIRE*` | Icon of Sin spawn cube | ~12 |
| `S_BRAINEXPLODE*` | Icon of Sin death explosion | 3 |
| `S_ARM1*` / `S_ARM2*` | Armor pickups | 4 |
| `S_BAR1*` / `S_BEXP*` / `S_BBAR*` | Barrel | 8 |
| `S_BON1*` / `S_BON2*` | Health/Armor bonuses | 12 |
| `S_BKEY*`..`S_YSKULL2` | Keys and skull keys | 12 |
| `S_STIM` / `S_MEDI` | Stimpacks | 2 |
| `S_SOUL*` / `S_PINV*` / `S_PINS*` / `S_MEGA*` | Power-up spheres | 24 |
| `S_SUIT` / `S_PMAP*` / `S_PVIS*` | Special pickups | 9 |
| `S_CLIP`..`S_SHOT2` | Static ammo/weapon pickups | 15 |
| `S_COLU` / `S_STALAG` / `S_BLOODYTWITCH*` | Decorations | ~10 |
| `S_DEADTORSO` / `S_DEADBOTTOM` | Gibs | 2 |
| `S_HEADSONSTICK`..`S_BRAINSTEM` | Gore decorations | ~22 |
| `S_TECHLAMP*` / `S_TECH2LAMP*` | Tech lamps (animated) | 8 |
| `S_BLUETORCH*`..`S_RTORCHSHRT*` | Colored torches | 24 |
| `S_EVILEYE*` / `S_FLOATSKULL*` / `S_HEARTCOL*` | Animated decorations | 10 |
| Various single-state decorations | Columns, trees, candles, hanging bodies | many |

**Notable state machine patterns:**

- **Weapon flash states** run on a separate overlay layer (`pspr_t`) from the weapon body states, allowing the gun sprite and the muzzle flash to animate independently. Flash states have `tics` of 3-7 and transition to `S_LIGHTDONE`, which calls `A_Light0` to restore normal sector lighting and then transitions to `S_NULL`.

- **`-1` tics** (forever): Used for final death states (corpses), static decorations, and the player's "dead" state. The object remains visible but never leaves the state on its own.

- **Resurrection (raise) states**: Archvile can raise dead monsters. The raise states are the death sequence played in reverse (e.g., `S_POSS_RAISE1` starts at the last death frame and steps backward), ending in the first run state to restore the monster to life.

- **Full-bright frames**: Flash effects, fireballs, projectiles, and power-up items use `frame | 0x8000` so they appear at maximum brightness regardless of sector light level.

---

### `mobjinfo[NUMMOBJTYPES]`
```c
mobjinfo_t mobjinfo[NUMMOBJTYPES] = {
    { /* MT_PLAYER */ -1, S_PLAY, 100, S_PLAY_RUN1, ... },
    ...
};
```
**Type:** `mobjinfo_t[87]`

The complete property table for all 87 thing types. Each record fully specifies one entity class. The table is indexed by `mobjtype_t` enum values.

**Monster stats summary (key entries):**

| Type | doomednum | Health | Speed | Radius | Pain% | Flags |
|---|---|---|---|---|---|---|
| `MT_PLAYER` | -1 | 100 | 0 | 16 | 255 | SOLID,SHOOTABLE,DROPOFF,PICKUP |
| `MT_POSSESSED` | 3004 | 20 | 8 | 20 | 200 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_SHOTGUY` | 9 | 30 | 8 | 20 | 170 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_VILE` | 64 | 700 | 15 | 20 | 10 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_UNDEAD` | 66 | 300 | 10 | 20 | 100 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_FATSO` | 67 | 600 | 8 | 48 | 80 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_CHAINGUY` | 65 | 70 | 8 | 20 | 170 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_TROOP` | 3001 | 60 | 8 | 20 | 200 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_SERGEANT` | 3002 | 150 | 10 | 30 | 180 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_SHADOWS` | 58 | 150 | 10 | 30 | 180 | SOLID,SHOOTABLE,SHADOW,COUNTKILL |
| `MT_HEAD` | 3005 | 400 | 8 | 31 | 128 | SOLID,SHOOTABLE,FLOAT,NOGRAVITY,COUNTKILL |
| `MT_BRUISER` | 3003 | 1000 | 8 | 24 | 50 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_KNIGHT` | 69 | 500 | 8 | 24 | 50 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_SKULL` | 3006 | 100 | 8 | 16 | 256 | SOLID,SHOOTABLE,FLOAT,NOGRAVITY |
| `MT_SPIDER` | 7 | 3000 | 12 | 128 | 40 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_BABY` | 68 | 500 | 12 | 64 | 128 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_CYBORG` | 16 | 4000 | 16 | 40 | 20 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_PAIN` | 71 | 400 | 8 | 31 | 128 | SOLID,SHOOTABLE,FLOAT,NOGRAVITY,COUNTKILL |
| `MT_WOLFSS` | 84 | 50 | 8 | 20 | 170 | SOLID,SHOOTABLE,COUNTKILL |
| `MT_KEEN` | 72 | 100 | 0 | 16 | 256 | SOLID,SPAWNCEILING,NOGRAVITY,SHOOTABLE,COUNTKILL |
| `MT_BOSSBRAIN` | 88 | 250 | 0 | 16 | 255 | SOLID,SHOOTABLE |

**Projectile stats summary:**

| Type | Speed (map units/tic) | Radius | Damage | Flags |
|---|---|---|---|---|
| `MT_TROOPSHOT` | 10*FRACUNIT | 6*FRACUNIT | 3 | NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY |
| `MT_HEADSHOT` | 10*FRACUNIT | 6*FRACUNIT | 5 | NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY |
| `MT_BRUISERSHOT` | 15*FRACUNIT | 6*FRACUNIT | 8 | NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY |
| `MT_TRACER` | 10*FRACUNIT | 11*FRACUNIT | 10 | NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY |
| `MT_FATSHOT` | 20*FRACUNIT | 6*FRACUNIT | 8 | NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY |
| `MT_ROCKET` | 20*FRACUNIT | 11*FRACUNIT | 20 | NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY |
| `MT_PLASMA` | 25*FRACUNIT | 13*FRACUNIT | 5 | NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY |
| `MT_BFG` | 25*FRACUNIT | 13*FRACUNIT | 100 | NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY |
| `MT_ARACHPLAZ` | 25*FRACUNIT | 13*FRACUNIT | 5 | NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY |

Note: projectile `speed` is stored in `fixed_t` units (pre-multiplied by `FRACUNIT`) unlike monster speeds which are raw map units per tic.

**Special/invisible things:**

- `MT_BOSSTARGET` (doomednum 87) and `MT_BOSSSPIT` (89): The Icon of Sin's shooting machinery. `MT_BOSSSPIT` runs `A_BrainSpit` every 150 tics to launch spawn cubes toward `MT_BOSSTARGET` map markers. Both use `MF_NOBLOCKMAP|MF_NOSECTOR` so they have no collision or rendering presence.

- `MT_TELEPORTMAN` (doomednum 14): The teleporter destination marker. It too uses `MF_NOBLOCKMAP|MF_NOSECTOR`; only its map position matters.

---

## Action Function Declarations

`info.c` forward-declares all action functions used in `states[]`. These functions are defined in other modules but are referenced by name in the state table. The complete set:

**Weapon actions** (defined in `p_pspr.c`):
`A_Light0`, `A_WeaponReady`, `A_Lower`, `A_Raise`, `A_Punch`, `A_ReFire`, `A_FirePistol`, `A_Light1`, `A_FireShotgun`, `A_Light2`, `A_FireShotgun2`, `A_CheckReload`, `A_OpenShotgun2`, `A_LoadShotgun2`, `A_CloseShotgun2`, `A_FireCGun`, `A_GunFlash`, `A_FireMissile`, `A_Saw`, `A_FirePlasma`, `A_BFGsound`, `A_FireBFG`, `A_BFGSpray`

**Generic entity actions** (defined in `p_inter.c` / `p_mobj.c`):
`A_Explode`, `A_Pain`, `A_PlayerScream`, `A_Fall`, `A_XScream`

**Monster AI and attack actions** (defined in `p_enemy.c`):
`A_Look`, `A_Chase`, `A_FaceTarget`, `A_PosAttack`, `A_Scream`, `A_SPosAttack`, `A_VileChase`, `A_VileStart`, `A_VileTarget`, `A_VileAttack`, `A_StartFire`, `A_Fire`, `A_FireCrackle`, `A_Tracer`, `A_SkelWhoosh`, `A_SkelFist`, `A_SkelMissile`, `A_FatRaise`, `A_FatAttack1`, `A_FatAttack2`, `A_FatAttack3`, `A_BossDeath`, `A_CPosAttack`, `A_CPosRefire`, `A_TroopAttack`, `A_SargAttack`, `A_HeadAttack`, `A_BruisAttack`, `A_SkullAttack`, `A_Metal`, `A_SpidRefire`, `A_BabyMetal`, `A_BspiAttack`, `A_Hoof`, `A_CyberAttack`, `A_PainAttack`, `A_PainDie`, `A_KeenDie`, `A_BrainPain`, `A_BrainScream`, `A_BrainDie`, `A_BrainAwake`, `A_BrainSpit`, `A_SpawnSound`, `A_SpawnFly`, `A_BrainExplode`

---

## Dependencies

| Header | Purpose |
|---|---|
| `sounds.h` | `sfx_*` sound enum values used in `mobjinfo[]` |
| `m_fixed.h` | `FRACUNIT` used for radius/height/speed values in `mobjinfo[]` |
| `info.h` | Own type definitions (`state_t`, `mobjinfo_t`, enums) |
| `p_mobj.h` | `MF_*` flag constants used in `mobjinfo[]` |
